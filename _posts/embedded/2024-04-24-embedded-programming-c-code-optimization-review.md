---
title: "[embedded] "임베디드 프로그래밍 C코드 최적화" chapter 1 리뷰"
excerpt: "임베디드 프로그래밍 C코드 최적화 리뷰"

categories: 
  - embedded
tags:
  - [embedded, c]

toc: true
toc_sticky: true
date: 2024-04-24
last_modified_at: 2024-04-24
---

"본 글은 한빛미디어의 임베디드 프로그래밍 C코드 최적화 책을 읽고 요약한 내용입니다."

chapter 1은 크게 세 가지 내용을 담고 있습니다.

[1. 임베디드 시스템이란?](#1-임베디드-시스템이란)  
[2. 임베디드 시스템 구현](#2-임베디드-시스템-구현)  
[3. 임베디드 시스템 개발환경](#3-임베디드-시스템-개발환경)  
[4. 임베디드 시스템 실행](#4-임베디드-시스템-실행)  

##### 1. 임베디드 시스템이란?

특정 목적을 가지고 설계된 시스템이다. 범용 목적의 PC와는 달리 임베디드 시스템은 정해진 용도에 국한된 기능을 제공한다. 따라서 시스템을 구성하는 장치나 SW가 제한적이다.

##### 2. 임베디드 시스템 구현

대부분 HW + SW로 구현한다. HW만 사용해서 구현한다면 빠른 속도를 지원하지만, 기능 수정/확정이 어렵다. 또한 추가 설계를 하여 재생산해야 하므로 시간/비용이 많이 소비된다. 따라서 대부분 SW와 병행하여 비용을 줄이고, 기능 수정/확장이 용이하도록 개발한다.

임베디드 프로세서는 SW 실행속도를 위해 ARM, MIPS, PPC, PXA255 등 다양한 프로세서를 사용한다. 또한, 다음과 같은 이유로 인해 공통적으로 가격, 전력소모, 성능, 크기를 고려해야 한다. 

* 가격에 민감
* 전력소모 -> 이동성 + 배터리
* 성능 -> 실시간성 시스템의 Deadline + 크기 

이를 모두 만족시키기는 어려우므로 개발할 시스템에 적합한 가격, 프로세서의 특징, 성능 등을 고려하여 프로세서를 선택해야 한다.

##### 3. 임베디드 시스템 개발환경

임베디드 시스템은 특수 기능을 제공하도록 구성되어 있어 범용 pc와 구성이 많이 다르다.

||PC|임베디드 시스템|
|------|---|---|
|입출력 장치|키보드, 모니터|LED, 스위치|
|저장 장치|HDD, SSD|ROM/Flash|

임베디드 SW 개발환경은 개발하는 시스템의 프로세서와 실행될 프로세서의 프로세서가 다른 크로스 개발환경이다. 크로스 개발에서 SW를 개발하는 환경을 Host 시스템, SW가 실행되는 시스템을 타겟 시스템이라고 한다. 

|Host|Target|
|---|---|
|프로그램 개발(PC)|임베디드 시스템(임베디드 프로세서, 메모리, 주변기기)|

일반적으로 Host PC에서 tool chain(크로스 컴파일러, 크로스 어셈블러, 링커와 같은 SW 개발 도구)을 활용하여 타겟 시스템에서 동작할 SW를 개발하고, 컴파일된 프로그램(바이너리 코드)을 케이블(Serial, Ethernet, JTAG 등)을 이용하여 타겟 보드에 탑재하는 방식으로 개발한다.

* Serial : UART 통신 케이블. 타겟 시스템 모니터링/디버깅 
* JTAG : 타겟 시스템 프로그램 다운로드/Flash메모리 접근. 디버깅

##### 4. 임베디드 시스템 실행

임베디드 시스템에서 c 프로그램이 동작하려면 초기화 작업이 필요하고, 이는 어셈블리 스타트업 코드로부터 시작된다. 스타트업 코드는 인터럽트 벡터 테이블을 생성하고 메모리검사 및 c 프로그램에서 사용할 스택, 힙을 생성하고 초기화한다. 이후 main 함수를 호출하여 프로그램이 시작되도록 한다. 